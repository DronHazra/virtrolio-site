<!-- Toggle switch for message viewing styles -->
<div class="row my-3">
  <div class="col-12">
    <div class="custom-control custom-switch">
      <input type="checkbox" class="custom-control-input" id="customSwitch1" [(ngModel)]="viewService.isCardView"
             (click)="toggleViewStyle()">
      <label class="custom-control-label toggle-switch" for="customSwitch1" *ngIf="!viewService.isCardView">Switch to
        Cards</label>
      <label class="custom-control-label toggle-switch" for="customSwitch1" *ngIf="viewService.isCardView">Switch to
        Booklet</label>
    </div>
  </div>
</div>

<!-- Carousel message view -->
<div class="viewing-container mb-5" *ngIf="viewService.isCardView === false">
  <div id="carousel" class="carousel slide border rounded" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="carousel-front-page-header px-3 py-2">
          {{ viewService.messages.length }} responses
        </div>
        <div class="page">
          <span class="title-page">My Yearbook</span>
        </div>
      </div>
      <div class="carousel-item" *ngFor="let msg of viewService.messages">
        <div class="carousel-header px-3 py-2">
          {{ msg.fromName }}
        </div>
        <div class="page" [ngStyle]="{'background': msg.backColor}">
          <table>
            <tr class="message"
                [ngStyle]="{'background-color': msg.backColor, 'color': msg.fontColor, 'font-family': msg.fontFamily}">
              <td>
                <markdown emoji data="{{ msg.contents }}"></markdown>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </a>
    <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </a>
  </div>
</div>

<!-- Card message view -->
<div class="card-columns mt-3" *ngIf="viewService.isCardView === true">
  <div class="card" *ngFor="let msg of viewService.messages;" id="{{ msg.from }}">
    <div class="card-header">
      <!-- Profile picture of the author -->
      <!--      <span class="profile-pic-container">-->
      <!--        <img class="profile-pic" src="" alt="profile-pic">-->
      <!--      </span>-->
      <span class="card-header-text">{{ msg.fromName }}</span>
    </div>
    <div class="card-body message-card" [ngStyle]="{'background': msg.backColor}">
      <table>
        <tr class="message"
            [ngStyle]="{'color': msg.fontColor, 'font-family': msg.fontFamily}">
          <td>
            <markdown emoji data="{{ msg.contents }}"></markdown>
          </td>
        </tr>
        <tr class="message"
            [ngStyle]="{'color': msg.fontColor, 'font-family': msg.fontFamily}">
          <td>msg.authorName</td>
        </tr>
      </table>
    </div>
  </div>
</div>
